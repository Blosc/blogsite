<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1350" height="900" viewBox="0 0 1350 900">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#333" />
    </marker>
  </defs>
<text x="675.0" y="50" font-family="Helvetica, Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#111">Original path: compute per chunk (Numexpr)</text>
<rect x="80" y="190" width="140" height="60" rx="10" ry="10" fill="#d6e9ff" stroke="#333" stroke-width="2" />
<text x="150.0" y="225" font-family="Helvetica, Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#111">Chunk operand A</text>
<line x1="220" y1="220" x2="250" y2="220" stroke="#333" stroke-width="2" marker-end="url(#arrow)"  />
<text x="350.0" y="198" font-family="Helvetica, Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#111">Decompress chunk</text>
<rect x="250" y="204" width="200" height="16" rx="6" ry="6" fill="#ffe3c4" stroke="#333" stroke-width="2" />
<text x="350.0" y="216" font-family="Helvetica, Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#111">Thread 1</text>
<rect x="250" y="226" width="200" height="16" rx="6" ry="6" fill="#ffe3c4" stroke="#333" stroke-width="2" />
<text x="350.0" y="238" font-family="Helvetica, Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#111">Thread 2</text>
<rect x="250" y="248" width="200" height="16" rx="6" ry="6" fill="#ffe3c4" stroke="#333" stroke-width="2" />
<text x="350.0" y="260" font-family="Helvetica, Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#111">Thread 3</text>
<line x1="450" y1="220" x2="540" y2="400" stroke="#333" stroke-width="2" marker-end="url(#arrow)"  />
<rect x="80" y="370" width="140" height="60" rx="10" ry="10" fill="#d6e9ff" stroke="#333" stroke-width="2" />
<text x="150.0" y="405" font-family="Helvetica, Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#111">Chunk operand B</text>
<line x1="220" y1="400" x2="250" y2="400" stroke="#333" stroke-width="2" marker-end="url(#arrow)"  />
<text x="350.0" y="378" font-family="Helvetica, Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#111">Decompress chunk</text>
<rect x="250" y="384" width="200" height="16" rx="6" ry="6" fill="#ffe3c4" stroke="#333" stroke-width="2" />
<text x="350.0" y="396" font-family="Helvetica, Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#111">Thread 1</text>
<rect x="250" y="406" width="200" height="16" rx="6" ry="6" fill="#ffe3c4" stroke="#333" stroke-width="2" />
<text x="350.0" y="418" font-family="Helvetica, Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#111">Thread 2</text>
<rect x="250" y="428" width="200" height="16" rx="6" ry="6" fill="#ffe3c4" stroke="#333" stroke-width="2" />
<text x="350.0" y="440" font-family="Helvetica, Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#111">Thread 3</text>
<line x1="450" y1="400" x2="540" y2="400" stroke="#333" stroke-width="2" marker-end="url(#arrow)"  />
<rect x="80" y="550" width="140" height="60" rx="10" ry="10" fill="#d6e9ff" stroke="#333" stroke-width="2" />
<text x="150.0" y="585" font-family="Helvetica, Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#111">Chunk operand C</text>
<line x1="220" y1="580" x2="250" y2="580" stroke="#333" stroke-width="2" marker-end="url(#arrow)"  />
<text x="350.0" y="558" font-family="Helvetica, Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#111">Decompress chunk</text>
<rect x="250" y="564" width="200" height="16" rx="6" ry="6" fill="#ffe3c4" stroke="#333" stroke-width="2" />
<text x="350.0" y="576" font-family="Helvetica, Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#111">Thread 1</text>
<rect x="250" y="586" width="200" height="16" rx="6" ry="6" fill="#ffe3c4" stroke="#333" stroke-width="2" />
<text x="350.0" y="598" font-family="Helvetica, Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#111">Thread 2</text>
<rect x="250" y="608" width="200" height="16" rx="6" ry="6" fill="#ffe3c4" stroke="#333" stroke-width="2" />
<text x="350.0" y="620" font-family="Helvetica, Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#111">Thread 3</text>
<line x1="450" y1="580" x2="540" y2="400" stroke="#333" stroke-width="2" marker-end="url(#arrow)"  />
<text x="650.0" y="338" font-family="Helvetica, Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#111">Numexpr compute</text>
<rect x="540" y="344" width="220" height="16" rx="6" ry="6" fill="#ffd6d6" stroke="#333" stroke-width="2" />
<text x="650.0" y="356" font-family="Helvetica, Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#111">Thread 1</text>
<rect x="540" y="366" width="220" height="16" rx="6" ry="6" fill="#ffd6d6" stroke="#333" stroke-width="2" />
<text x="650.0" y="378" font-family="Helvetica, Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#111">Thread 2</text>
<rect x="540" y="388" width="220" height="16" rx="6" ry="6" fill="#ffd6d6" stroke="#333" stroke-width="2" />
<text x="650.0" y="400" font-family="Helvetica, Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#111">Thread 3</text>
<line x1="760" y1="360" x2="820" y2="360" stroke="#333" stroke-width="2" marker-end="url(#arrow)"  />
<text x="920.0" y="338" font-family="Helvetica, Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#111">Compress chunk</text>
<rect x="820" y="344" width="200" height="16" rx="6" ry="6" fill="#cfe9ff" stroke="#333" stroke-width="2" />
<text x="920.0" y="356" font-family="Helvetica, Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#111">Thread 1</text>
<rect x="820" y="366" width="200" height="16" rx="6" ry="6" fill="#cfe9ff" stroke="#333" stroke-width="2" />
<text x="920.0" y="378" font-family="Helvetica, Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#111">Thread 2</text>
<rect x="820" y="388" width="200" height="16" rx="6" ry="6" fill="#cfe9ff" stroke="#333" stroke-width="2" />
<text x="920.0" y="400" font-family="Helvetica, Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#111">Thread 3</text>
<line x1="1020" y1="360" x2="1080" y2="360" stroke="#333" stroke-width="2" marker-end="url(#arrow)"  />
<rect x="1080" y="325" width="160" height="90" rx="10" ry="10" fill="#d9f2d9" stroke="#333" stroke-width="2" />
<text x="1160.0" y="355" font-family="Helvetica, Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#111"><tspan x="1160.0" dy="0">Output</tspan><tspan x="1160.0" dy="16.8">chunk</tspan></text>
<text x="495.0" y="130" font-family="Helvetica, Arial, sans-serif" font-size="12" font-weight="normal" text-anchor="middle" fill="#111">sync / sequential</text>
<line x1="495.0" y1="135" x2="495.0" y2="300" stroke="#333" stroke-width="2" marker-end="url(#arrow)" stroke-dasharray="6,4" />
<text x="790.0" y="130" font-family="Helvetica, Arial, sans-serif" font-size="12" font-weight="normal" text-anchor="middle" fill="#111">sync / sequential</text>
<line x1="790.0" y1="135" x2="790.0" y2="300" stroke="#333" stroke-width="2" marker-end="url(#arrow)" stroke-dasharray="6,4" />
<text x="650.0" y="780" font-family="Helvetica, Arial, sans-serif" font-size="14" font-weight="normal" text-anchor="middle" fill="#111"><tspan x="650.0" dy="0">Large working set</tspan><tspan x="650.0" dy="16.8">spills beyond L2/L1</tspan><tspan x="650.0" dy="16.8">-> L3/Memory traffic</tspan></text>
<line x1="650.0" y1="760" x2="650.0" y2="400" stroke="#333" stroke-width="2" marker-end="url(#arrow)" stroke-dasharray="6,4" />
</svg>
